{% extends "store/main.html" %}
{% load static %}
{% load widget_tweaks %}
{% block content %}
<div class="container d-flex justify-content-center mb-4">
    <!-- Alerts -->
    {% if messages %}
      {% for message in messages %}
        {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
          <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success! </strong>
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endif %}
        {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
          <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Error! </strong>
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endif %}
      {% endfor %}
    {% endif %}
    {% if form.non_field_errors %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Error! </strong>
            {{ form.non_field_errors|striptags }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
        </div>

    {% endif %}
    <!-- END Alerts -->

    <div class="col-lg-5 col-sm border mb-5 mt-5 p-0">
        <div class="border-bottom mb-3 p-3"> <h5>Sign In</h5> </div>
        <div class="border-bottom pl-3 pr-3 pb-3">
            <form class="needs-validation" action="{% url 'login' %}" method="post">
              {% csrf_token %}
              <div class="form-group">
                <label for="username">Username or Email:</label>
                <input type="text" class="form-control form-control-sm  {% if error %} is-invalid{% endif %}" id="username" placeholder="Enter username or email" name="username">
              </div>
               <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" class="form-control form-control-sm {% if error %} is-invalid{% endif %}" id="password" placeholder="Enter password" name="password">
              </div>
              <div class="text-left form-sm mt-3">
                    <p>
                        Don't have an account? <a href="/register" style="color: #0066ff">Register</a>
                    </p>
                </div>
                <div class="text-right form-sm mt-0">
                    <a href="/password_reset" class="mr-2" style="color: #0066ff">Forgot password?</a><button type="submit" class="btn btn-success">Sign in <i class="fa fa-sign-in ml-1"></i></button>
                </div>
            </form>
        </div>
    </div>
</div>


{% endblock content %}